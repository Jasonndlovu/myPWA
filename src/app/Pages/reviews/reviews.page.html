<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Service Reviews</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">reviews</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Add a Review</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Your Review</ion-label>
        <ion-input [(ngModel)]="newMessage" placeholder="Write your review" (ionInput)="logMessage($event)"></ion-input>
      </ion-item>
      
      

      <ion-item>
        <ion-label>Rating</ion-label>
        <ion-select [(ngModel)]="newStars" (ionChange)="logStars($event)">
          <ion-select-option *ngFor="let star of [1, 2, 3, 4, 5]" [value]="star">{{ star }}</ion-select-option>
        </ion-select>
      </ion-item>
      
      

      <ion-button expand="full" (click)="addReview()">Submit Review</ion-button>
    </ion-card-content>
  </ion-card>

  <ion-list>
    <ion-item *ngFor="let review of reviews$ | async">
      <ion-label>
        <h2>{{ review.userName }}</h2>
        <p>{{ review.message }}</p>
        <p>⭐ {{ review.stars }} Stars</p>
        <p>📅 {{ review.createdAt}}</p>
        <!-- <ion-icon name="star" *ngFor="let star of [].constructor(review.stars); let i = index" color="warning"></ion-icon> -->
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
